(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[20],{9883:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(62898);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]])},45367:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(62898);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},82549:function(e,t,s){"use strict";s.d(t,{Z:function(){return i}});var a=s(62898);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let i=(0,a.Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},65787:function(e,t,s){Promise.resolve().then(s.bind(s,34521))},34521:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return HabitsPage}});var a=s(57437),i=s(2265),n=s(79303),l=s(82549);function HabitForm(e){let{onClose:t,onSave:s,initialData:r}=e,[d,c]=(0,i.useState)({name:(null==r?void 0:r.name)||"",description:(null==r?void 0:r.description)||"",category:(null==r?void 0:r.category)||"GOOD",points:(null==r?void 0:r.points)||10,missedPoints:(null==r?void 0:r.missedPoints)||0}),[o,m]=(0,i.useState)(!1),handleSubmit=async e=>{e.preventDefault(),m(!0);let t=r?"/api/habits/".concat(r.id):"/api/habits";await fetch(t,{method:r?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(d)}),m(!1),s()};return(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-black w-full max-w-md rounded-3xl p-6 shadow-2xl border border-gray-100 dark:border-zinc-800",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,a.jsx)("h2",{className:"text-xl font-bold",children:r?"Edit Habit":"New Habit"}),(0,a.jsx)("button",{onClick:t,children:(0,a.jsx)(l.Z,{size:20})})]}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Name"}),(0,a.jsx)("input",{required:!0,className:"input-field",value:d.name,onChange:e=>c({...d,name:e.target.value}),placeholder:"e.g. Morning Run"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Category"}),(0,a.jsxs)("select",{className:"input-field",value:d.category,onChange:e=>c({...d,category:e.target.value}),children:[(0,a.jsx)("option",{value:"GOOD",children:"Positive Habit"}),(0,a.jsx)("option",{value:"BAD",children:"Negative Habit"})]})]}),"GOOD"===d.category?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Points (Done)"}),(0,a.jsx)("input",{type:"number",className:"input-field",value:d.points,onChange:e=>c({...d,points:parseInt(e.target.value)})})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Penalty (Missed)"}),(0,a.jsx)("input",{type:"number",className:"input-field",value:d.missedPoints,onChange:e=>c({...d,missedPoints:parseInt(e.target.value)}),placeholder:"-5"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"Points deducted if you miss this habit."})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Cost (Done)"}),(0,a.jsx)("input",{type:"number",className:"input-field",value:d.points,onChange:e=>c({...d,points:parseInt(e.target.value)}),placeholder:"-10"}),(0,a.jsx)("p",{className:"text-xs text-gray-400 mt-1",children:"E.g. -10 points if you smoke."})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Reward (Avoided)"}),(0,a.jsx)("input",{type:"number",className:"input-field",value:d.missedPoints,onChange:e=>c({...d,missedPoints:parseInt(e.target.value)}),placeholder:"5"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Description"}),(0,a.jsx)("textarea",{className:"input-field min-h-[80px] py-3",value:d.description,onChange:e=>c({...d,description:e.target.value}),placeholder:"Why this habit matters..."})]}),(0,a.jsxs)("div",{className:"pt-4 flex gap-3",children:[(0,a.jsx)("button",{type:"button",onClick:t,className:"flex-1 py-3 bg-gray-100 dark:bg-zinc-900 rounded-xl font-medium",children:"Cancel"}),(0,a.jsx)("button",{disabled:o,type:"submit",className:"flex-1 py-3 bg-black text-white dark:bg-white dark:text-black rounded-xl font-medium",children:o?"Saving...":"Save Habit"})]})]})]})})}var r=s(9883),d=s(62898);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */let c=(0,d.Z)("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);var o=s(45367);function HabitsPage(){let[e,t]=(0,i.useState)([]),[s,l]=(0,i.useState)(!1),[d,m]=(0,i.useState)(null),fetchHabits=async()=>{let e=await fetch("/api/habits"),s=await e.json();t(s)};(0,i.useEffect)(()=>{fetchHabits()},[]);let handleDelete=async e=>{confirm("Are you sure? This will hide the habit from future tracking.")&&(await fetch("/api/habits/".concat(e),{method:"DELETE"}),fetchHabits())};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"My Habits"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Manage what you want to track daily."})]}),(0,a.jsxs)("button",{onClick:()=>{m(null),l(!0)},className:"btn-primary flex items-center gap-2",children:[(0,a.jsx)(r.Z,{size:20}),"Create New"]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map((e,t)=>(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"glass-panel p-6 hover:scale-[1.02] transition-transform duration-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,a.jsx)("div",{children:(0,a.jsx)("span",{className:"text-xs font-bold px-2 py-1 rounded-full ".concat("GOOD"===e.category?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"),children:"GOOD"===e.category?"POSITIVE":"NEGATIVE"})}),(0,a.jsxs)("div",{className:"flex gap-2 text-gray-400",children:[(0,a.jsx)("button",{onClick:()=>{m(e),l(!0)},className:"hover:text-black dark:hover:text-white",children:(0,a.jsx)(c,{size:16})}),(0,a.jsx)("button",{onClick:()=>handleDelete(e.id),className:"hover:text-red-500",children:(0,a.jsx)(o.Z,{size:16})})]})]}),(0,a.jsx)("h3",{className:"text-xl font-bold mb-2",children:e.name}),(0,a.jsx)("p",{className:"text-sm text-gray-500 mb-6 min-h-[40px] line-clamp-2",children:e.description||"No description."}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm font-medium",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,a.jsxs)("span",{children:["Hit: ",e.points>0?"+":"",e.points]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)("span",{className:"w-2 h-2 rounded-full bg-gray-300"}),(0,a.jsxs)("span",{children:["Miss: ",e.missedPoints>0?"+":"",e.missedPoints]})]})]})]},e.id)),0===e.length&&(0,a.jsx)("div",{className:"col-span-full py-12 text-center text-gray-500 border-2 border-dashed border-gray-200 dark:border-zinc-800 rounded-3xl",children:(0,a.jsx)("p",{children:"No habits yet. Start by creating one!"})})]}),s&&(0,a.jsx)(HabitForm,{onClose:()=>l(!1),onSave:()=>{l(!1),fetchHabits()},initialData:d})]})}}},function(e){e.O(0,[777,971,472,744],function(){return e(e.s=65787)}),_N_E=e.O()}]);