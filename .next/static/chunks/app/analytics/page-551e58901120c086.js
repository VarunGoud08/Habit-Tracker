(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[109],{89847:function(e,s,t){Promise.resolve().then(t.bind(t,8610))},8610:function(e,s,t){"use strict";t.r(s),t.d(s,{default:function(){return AnalyticsPage}});var a=t(57437),r=t(2265),i=t(45253),l=t(26824),n=t(16573),c=t(24235),d=t(50039),o=t(27978),x=t(86812),h=t(19223),p=t(53086),f=t(24652);function AnalyticsPage(){let[e,s]=(0,r.useState)([]);return(0,r.useEffect)(()=>{fetch("/api/history").then(e=>e.json()).then(e=>{if(!e||0===e.length)return;let t=e.map(e=>({...e,displayDate:(0,p.ZP)((0,f.Z)(e.date),"MMM d"),score:e.totalScore}));s(t)})},[]),(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold mb-2",children:"Analytics"}),(0,a.jsx)("p",{className:"text-gray-500",children:"Visualizing your progress over time."})]}),(0,a.jsxs)("div",{className:"glass-panel p-6 h-[400px] w-full",children:[(0,a.jsx)("h2",{className:"text-lg font-bold mb-6",children:"Net Score Trend"}),e.length>0?(0,a.jsx)(i.h,{width:"100%",height:"85%",children:(0,a.jsxs)(l.w,{data:e,children:[(0,a.jsx)(n.q,{strokeDasharray:"3 3",opacity:.1,vertical:!1}),(0,a.jsx)(c.K,{dataKey:"displayDate",stroke:"#888",fontSize:12,tickLine:!1,axisLine:!1}),(0,a.jsx)(d.B,{stroke:"#888",fontSize:12,tickLine:!1,axisLine:!1}),(0,a.jsx)(o.d,{y:0,stroke:"#666",strokeDasharray:"3 3"}),(0,a.jsx)(x.u,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},cursor:{stroke:"#ddd"}}),(0,a.jsx)(h.x,{type:"monotone",dataKey:"score",stroke:"url(#gradient)",strokeWidth:3,dot:{r:4,fill:"white",strokeWidth:2},activeDot:{r:6}}),(0,a.jsx)("defs",{children:(0,a.jsxs)("linearGradient",{id:"gradient",x1:"0",y1:"0",x2:"1",y2:"0",children:[(0,a.jsx)("stop",{offset:"0%",stopColor:"#22c55e"})," ",(0,a.jsx)("stop",{offset:"100%",stopColor:"#3b82f6"})," "]})})]})}):(0,a.jsx)("div",{className:"h-full flex items-center justify-center text-gray-400",children:"Not enough data to display chart. Start tracking today!"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{className:"glass-panel p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.length}),(0,a.jsx)("div",{className:"text-xs text-gray-500 uppercase mt-1",children:"Days Tracked"})]}),(0,a.jsxs)("div",{className:"glass-panel p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-500",children:e.filter(e=>e.score>0).length}),(0,a.jsx)("div",{className:"text-xs text-gray-500 uppercase mt-1",children:"Positive Days"})]}),(0,a.jsxs)("div",{className:"glass-panel p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-red-500",children:e.filter(e=>e.score<0).length}),(0,a.jsx)("div",{className:"text-xs text-gray-500 uppercase mt-1",children:"Negative Days"})]}),(0,a.jsxs)("div",{className:"glass-panel p-4 text-center",children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:e.reduce((e,s)=>e+s.score,0)}),(0,a.jsx)("div",{className:"text-xs text-gray-500 uppercase mt-1",children:"Lifetime Score"})]})]})]})}}},function(e){e.O(0,[928,600,971,472,744],function(){return e(e.s=89847)}),_N_E=e.O()}]);