(()=>{var e={};e.id=20,e.ids=[20],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},55403:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},94749:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},55164:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>r.a,__next_app__:()=>m,originalPathname:()=>x,pages:()=>o,routeModule:()=>p,tree:()=>c});var a=s(67096),i=s(16132),n=s(37284),r=s.n(n),l=s(32564),d={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>l[e]);s.d(t,d);let c=["",{children:["habits",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,11636)),"/Users/varun/Desktop/Habit Tracker/src/app/habits/page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,33533)),"/Users/varun/Desktop/Habit Tracker/src/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,9291,23)),"next/dist/client/components/not-found-error"]}],o=["/Users/varun/Desktop/Habit Tracker/src/app/habits/page.tsx"],x="/habits/page",m={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:i.x.APP_PAGE,page:"/habits/page",pathname:"/habits",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},14393:(e,t,s)=>{Promise.resolve().then(s.bind(s,98234))},98234:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>HabitsPage});var a=s(30784),i=s(9885),n=s(91745),r=s(56206);function HabitForm({onClose:e,onSave:t,initialData:s}){let[l,d]=(0,i.useState)({name:s?.name||"",description:s?.description||"",category:s?.category||"GOOD",points:s?.points||10,missedPoints:s?.missedPoints||0}),[c,o]=(0,i.useState)(!1),handleSubmit=async e=>{e.preventDefault(),o(!0);let a=s?`/api/habits/${s.id}`:"/api/habits";await fetch(a,{method:s?"PUT":"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(l)}),o(!1),t()};return a.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/20 backdrop-blur-sm",children:(0,a.jsxs)(n.E.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-black w-full max-w-md rounded-3xl p-6 shadow-2xl border border-gray-100 dark:border-zinc-800",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[a.jsx("h2",{className:"text-xl font-bold",children:s?"Edit Habit":"New Habit"}),a.jsx("button",{onClick:e,children:a.jsx(r.Z,{size:20})})]}),(0,a.jsxs)("form",{onSubmit:handleSubmit,className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Name"}),a.jsx("input",{required:!0,className:"input-field",value:l.name,onChange:e=>d({...l,name:e.target.value}),placeholder:"e.g. Morning Run"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Category"}),(0,a.jsxs)("select",{className:"input-field",value:l.category,onChange:e=>d({...l,category:e.target.value}),children:[a.jsx("option",{value:"GOOD",children:"Positive Habit"}),a.jsx("option",{value:"BAD",children:"Negative Habit"})]})]}),"GOOD"===l.category?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Points (Done)"}),a.jsx("input",{type:"number",className:"input-field",value:l.points,onChange:e=>d({...l,points:parseInt(e.target.value)})})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Penalty (Missed)"}),a.jsx("input",{type:"number",className:"input-field",value:l.missedPoints,onChange:e=>d({...l,missedPoints:parseInt(e.target.value)}),placeholder:"-5"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"Points deducted if you miss this habit."})]})]}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Cost (Done)"}),a.jsx("input",{type:"number",className:"input-field",value:l.points,onChange:e=>d({...l,points:parseInt(e.target.value)}),placeholder:"-10"}),a.jsx("p",{className:"text-xs text-gray-400 mt-1",children:"E.g. -10 points if you smoke."})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Reward (Avoided)"}),a.jsx("input",{type:"number",className:"input-field",value:l.missedPoints,onChange:e=>d({...l,missedPoints:parseInt(e.target.value)}),placeholder:"5"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"block text-sm font-medium text-gray-500 mb-1",children:"Description"}),a.jsx("textarea",{className:"input-field min-h-[80px] py-3",value:l.description,onChange:e=>d({...l,description:e.target.value}),placeholder:"Why this habit matters..."})]}),(0,a.jsxs)("div",{className:"pt-4 flex gap-3",children:[a.jsx("button",{type:"button",onClick:e,className:"flex-1 py-3 bg-gray-100 dark:bg-zinc-900 rounded-xl font-medium",children:"Cancel"}),a.jsx("button",{disabled:c,type:"submit",className:"flex-1 py-3 bg-black text-white dark:bg-white dark:text-black rounded-xl font-medium",children:c?"Saving...":"Save Habit"})]})]})]})})}var l=s(22385),d=s(90391),c=s(26303);function HabitsPage(){let[e,t]=(0,i.useState)([]),[s,r]=(0,i.useState)(!1),[o,x]=(0,i.useState)(null),fetchHabits=async()=>{let e=await fetch("/api/habits"),s=await e.json();t(s)};(0,i.useEffect)(()=>{fetchHabits()},[]);let handleDelete=async e=>{confirm("Are you sure? This will hide the habit from future tracking.")&&(await fetch(`/api/habits/${e}`,{method:"DELETE"}),fetchHabits())};return(0,a.jsxs)("div",{className:"space-y-8",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold mb-2",children:"My Habits"}),a.jsx("p",{className:"text-gray-500",children:"Manage what you want to track daily."})]}),(0,a.jsxs)("button",{onClick:()=>{x(null),r(!0)},className:"btn-primary flex items-center gap-2",children:[a.jsx(l.Z,{size:20}),"Create New"]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.map((e,t)=>(0,a.jsxs)(n.E.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.05*t},className:"glass-panel p-6 hover:scale-[1.02] transition-transform duration-300",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[a.jsx("div",{children:a.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${"GOOD"===e.category?"bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-400":"bg-red-100 text-red-700 dark:bg-red-900/30 dark:text-red-400"}`,children:"GOOD"===e.category?"POSITIVE":"NEGATIVE"})}),(0,a.jsxs)("div",{className:"flex gap-2 text-gray-400",children:[a.jsx("button",{onClick:()=>{x(e),r(!0)},className:"hover:text-black dark:hover:text-white",children:a.jsx(d.Z,{size:16})}),a.jsx("button",{onClick:()=>handleDelete(e.id),className:"hover:text-red-500",children:a.jsx(c.Z,{size:16})})]})]}),a.jsx("h3",{className:"text-xl font-bold mb-2",children:e.name}),a.jsx("p",{className:"text-sm text-gray-500 mb-6 min-h-[40px] line-clamp-2",children:e.description||"No description."}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm font-medium",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-blue-500"}),(0,a.jsxs)("span",{children:["Hit: ",e.points>0?"+":"",e.points]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[a.jsx("span",{className:"w-2 h-2 rounded-full bg-gray-300"}),(0,a.jsxs)("span",{children:["Miss: ",e.missedPoints>0?"+":"",e.missedPoints]})]})]})]},e.id)),0===e.length&&a.jsx("div",{className:"col-span-full py-12 text-center text-gray-500 border-2 border-dashed border-gray-200 dark:border-zinc-800 rounded-3xl",children:a.jsx("p",{children:"No habits yet. Start by creating one!"})})]}),s&&a.jsx(HabitForm,{onClose:()=>r(!1),onSave:()=>{r(!1),fetchHabits()},initialData:o})]})}},11636:(e,t,s)=>{"use strict";s.r(t),s.d(t,{$$typeof:()=>r,__esModule:()=>n,default:()=>d});var a=s(95153);let i=(0,a.createProxy)(String.raw`/Users/varun/Desktop/Habit Tracker/src/app/habits/page.tsx`),{__esModule:n,$$typeof:r}=i,l=i.default,d=l}};var t=require("../../webpack-runtime.js");t.C(e);var __webpack_exec__=e=>t(t.s=e),s=t.X(0,[964,809,111],()=>__webpack_exec__(55164));module.exports=s})();